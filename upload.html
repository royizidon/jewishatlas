<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Share a Jewish Site · Jewish Atlas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="header.css">
  <!-- App config (if you use it in upload.js) -->
  <script src="config.js"></script>

  <!-- ArcGIS -->
  <link rel="stylesheet" href="https://js.arcgis.com/4.29/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.29/"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

 <style>
/* Hide search/filter row on non-map pages */
#headerRow2 { 
  display: none !important; 
}

:root{
  --hero-a: #0f1838;                /* deep navy */
  --hero-b: #202a74;                /* indigo */
  --hero-c: #3b32cc;                /* royal purple */
  --ring:   rgba(79,70,229,.15);    /* focus ring */
  --gray-100:#f8fafc; --gray-200:#e5e7eb; --gray-300:#e2e8f0; --ink:#0f172a;
  --btn:#4f46e5; --btn-hover:#4338ca;
}

/* Base */
html, body { margin:0; height:100%; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
body { background:#f6f7fb; color:var(--ink); overflow:auto; }
.ja-container{ max-width:1100px; margin:0 auto; padding:0 16px; }

/* ========= FIX FOR FIXED HEADER OVERLAP ========= */
body.upload-page {
  padding-top: 95px; /* Accounts for fixed header */
  margin: 0;
}

/* Dynamically adjust for actual header height */
@media (max-width: 1024px) {
  body.upload-page {
    padding-top: 110px; /* Header is taller on tablets */
  }
}

@media (max-width: 640px) {
  body.upload-page {
    padding-top: 90px; /* Compact header on mobile */
  }
}

/* ---- HERO TITLE WITH PROPER FALLBACK (ONLY ONE VERSION) ---- */
.ja-heroText {
  padding: 40px 16px 28px;
  text-align: center;
}

.ja-heroText .hero-title {
  font-family: "Playfair Display", Georgia, serif;
  font-weight: 800;
  font-size: 38px;
  line-height: 1.3;
  margin: 0 0 12px;
  
  /* Fallback color that always works */
  color: #2563eb;
  
  /* Gradient for browsers that support it */
  background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
  -webkit-background-clip: text;
  -moz-background-clip: text;
  background-clip: text;
}

/* Only make text transparent if gradient is actually supported */
@supports (-webkit-background-clip: text) or (background-clip: text) {
  .ja-heroText .hero-title {
    -webkit-text-fill-color: transparent;
    color: transparent;
  }
}

.ja-heroText .hero-subtitle {
  font-size: 18px;
  line-height: 1.6;
  color: #475569;
  margin: 0 auto;
  max-width: 640px;
}

/* Card & form */
.ja-card { 
  background:#fff; 
  border:1px solid var(--gray-200); 
  border-radius:16px;
  box-shadow:0 8px 24px rgba(15,23,42,.05); 
  padding:24px; 
  margin-bottom:24px; 
}
.ja-field{ margin-top:16px; }
.ja-label{ display:block; font-weight:600; margin:0 0 6px; color:var(--ink); }
.ja-input,.ja-select,.ja-textarea{
  width:100%; border:1px solid var(--gray-200); border-radius:12px; background:#fff;
  padding:12px 14px; font-size:16px; box-sizing:border-box; transition:border-color .2s, box-shadow .2s;
}
.ja-input:focus,.ja-select:focus,.ja-textarea:focus{ outline:0; border-color:#4f46e5; box-shadow:0 0 0 3px var(--ring); }
.ja-textarea{ resize:vertical; min-height:80px; }

/* Two columns on desktop */
.ja-two-col{ display:grid; gap:12px; grid-template-columns:1fr; }
@media (min-width:768px){ .ja-two-col{ grid-template-columns:1fr 1fr; } }

/* Map block */
#viewWrap{ margin-top:10px; }
#viewDiv{
  position:relative; height:420px; border:1px solid var(--gray-200); border-radius:16px;
  overflow:hidden; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,.04);
}
#searchDock{
  position:absolute; left:50%; top:12px; transform:translateX(-50%); z-index:10;
  width:clamp(320px,62vw,900px);
}
#selectedAddress{ color:#64748b; background:var(--gray-100); }

/* Actions */
.ja-actions{ 
  margin-top:18px; 
  padding:10px; 
  background:#fff; 
  border-radius:12px; 
  display:flex; 
  gap:10px; 
  align-items:center; 
  border:1px solid var(--gray-300); 
}
.btn-primary{
  background:var(--btn); color:#fff; border:none; padding:12px 18px; border-radius:12px;
  font-weight:700; cursor:pointer; box-shadow:0 4px 12px rgba(79,70,229,.25);
  transition:background .15s ease, transform .15s ease, box-shadow .15s ease;
}
.btn-primary:hover{ background:var(--btn-hover); transform:translateY(-1px); box-shadow:0 6px 16px rgba(79,70,229,.32); }
.btn-primary:disabled{ opacity:.55; cursor:not-allowed; transform:none; box-shadow:none; }

/* Search bar styling */
#searchDock .esri-search__input-container {
  border: 1.5px solid #3b82f6;
  border-radius: 9999px;
  background: #fff;
  box-shadow: 0 4px 10px rgba(0,0,0,.08);
  overflow: hidden;
}

#searchDock .esri-input {
  height: 44px;
  font-size: 16px;
  padding: 0 14px;
}

#searchDock .esri-input::placeholder {
  color: #64748b;
}

#searchDock .esri-search__submit-button {
  border-left: 1px solid #e5e7eb;
  height: 44px;
  width: 46px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 0 9999px 9999px 0;
  background: #fff;
}

#searchDock .esri-search__submit-button .esri-icon-search {
  font-size: 16px;
  color: #334155;
}

#searchDock .esri-search__suggestions-menu{
  margin-top:8px; 
  border-radius:12px; 
  box-shadow:0 14px 30px rgba(0,0,0,.16);
  max-height:55vh; 
  overflow:auto; 
  width:100% !important;
}

/* Mobile optimizations */
@media (max-width:640px){
  #viewDiv{ height:56vh; border-radius:14px; }
  #searchDock{ width:min(92vw,560px); top:8px; }
  
  .ja-heroText { padding: 28px 12px 20px; }
  .ja-heroText .hero-title { font-size: 28px; }
  .ja-heroText .hero-subtitle { font-size: 16px; }
}

/* Mobile search bar improvements */
@media (max-width: 768px) {
  #searchDock {
    width: min(80vw, 320px) !important;
    top: 3px !important;
  }
  
  #searchDock .esri-search__input-container {
    border: 1px solid #d1d5db !important;
    box-shadow: none !important;
    height: 28px !important;
    border-radius: 20px !important;
  }
  
  #searchDock .esri-input {
    height: 26px !important;
    font-size: 13px !important;
    padding: 0 8px !important;
    line-height: 26px !important;
  }
  
  #searchDock .esri-search__submit-button {
    height: 26px !important;
    width: 30px !important;
    border-left: 1px solid #d1d5db !important;
    border-radius: 0 20px 20px 0 !important;
  }
  
  #searchDock .esri-search__submit-button .esri-icon-search {
    font-size: 11px !important;
  }
  
  #searchDock .esri-search__suggestions-menu {
    margin-top: 1px !important;
    max-height: 30vh !important;
    border-radius: 6px !important;
    font-size: 13px !important;
  }
  
  #viewDiv {
    height: 48vh !important;
    border-radius: 12px !important;
  }
  
  .ja-card {
    padding: 14px !important;
    margin-bottom: 12px !important;
  }
  
  .ja-input, .ja-select, .ja-textarea {
    font-size: 16px !important;
    padding: 9px 11px !important;
  }
  
  #viewWrap + p {
    font-size: 12px !important;
    margin: 4px 2px 0 !important;
  }
}
</style>

<!-- Add this JavaScript right after the styles to dynamically adjust padding -->

</head>
<script src="header.js"></script>

<body class="upload-page">
  <!-- Header -->
  <header id="appHeader">
    <div id="headerRow1" >
      <div id="headerLeft">
        <h1 id="siteTitle">Jewish Atlas</h1>
        <nav id="navButtons">
          <button class="navBtn" id="aboutBtn" type="button">About</button>
          <button class="navBtn" id="wallBtn"  type="button">The Wall</button>
          <button class="navBtn" id="backBtn"  type="button">Map</button>
        </nav>
      </div>
      <div id="searchContainer" aria-hidden="true"></div>
    </div>
  </header>

  <!-- NEW: Title only (no dark container) -->
  <section class="ja-heroText">
    <h2 class="hero-title">Your Contribution Tells the Story.</h2>
    <p class="hero-subtitle">Add Jewish sites to help map our shared history.</p>
  </section>

  <!-- Form -->
  <main class="ja-container">
    <section class="ja-card" aria-labelledby="submit-title">
      <h3 id="submit-title" class="ja-label" style="margin:0 0 14px;">Submit a Site</h3>

      <form id="addForm" class="ja-form" autocomplete="off">
        <div class="ja-field">
          <label for="siteName" class="ja-label">Site Name</label>
          <input id="siteName" class="ja-input" placeholder='e.g., “Beit Knesset HaGadol”, “Mikveh in Kraków”' />
        </div>

        <div class="ja-field">
          <label for="type" class="ja-label">Type (select category) <span aria-hidden="true" style="color:#e11d48">*</span></label>
          <select id="type" class="ja-select" required>
            <option value="">Choose…</option>
            <option>Synagogue</option><option>Cemetery</option><option>Kosher Restaurant</option>
            <option>Tomb</option><option>Monument</option><option>Yeshiva</option>
            <option>Jewish Quarter</option><option>Mikve</option><option>Museum</option>
            <option>Heritage Site</option><option>Ghetto</option><option>Karaite Site</option>
          </select>
        </div>

        <div class="ja-field">
          <label class="ja-label">Address (search & choose) <span aria-hidden="true" style="color:#e11d48">*</span></label>
          <input id="selectedAddress" class="ja-input" disabled placeholder="No address selected yet" />
          <div id="viewWrap">
            <div id="viewDiv">
              <div id="searchDock"></div>
            </div>
          </div>
          <p style="margin:6px 4px 0; color:#64748b; font-size:13px">
            Use the map’s search (OpenStreetMap only). Pick a result or tap the map to drop the pin.
          </p>
        </div>

        <div class="ja-field">
          <label for="desc" class="ja-label">Short Description</label>
          <textarea id="desc" class="ja-textarea" rows="3" placeholder="A one- or two-sentence description…"></textarea>
        </div>

        <div class="ja-field">
          <label for="preservation" class="ja-label">Preservation Status</label>
          <select id="preservation" class="ja-select">
            <option value="">Choose…</option>
            <option>Excellent</option><option>Good</option><option>Fair</option><option>Poor</option>
            <option>Ruins</option><option>No longer exists</option><option>Unknown</option>
          </select>
        </div>

        <div class="ja-field ja-two-col">
          <div>
            <label for="photoFile" class="ja-label">Photo (camera or file)</label>
            <input id="photoFile" type="file" accept="image/*,application/pdf" capture="environment" class="ja-input" />
            <div style="color:#64748b; font-size:13px; margin-top:6px">Large images are resized in the browser.</div>
          </div>
          
        </div>
<!-- Contact details for the site (optional) -->
<div class="ja-field ja-two-col">
  <div>
    <label for="sitePhone" class="ja-label">Site Phone</label>
    <input id="sitePhone" class="ja-input" type="tel" inputmode="tel" placeholder="+1 212-555-0123" />
  </div>
  <div>
    <label for="siteWebsite" class="ja-label">Site Website </label>
    <input id="siteWebsite" class="ja-input" type="url" placeholder="https://example.org" />
  </div>
</div>

<div class="ja-field">
  <label for="siteEmail" class="ja-label">Site Email </label>
  <input id="siteEmail" class="ja-input" type="email" inputmode="email" autocomplete="email" placeholder="contact@example.org" />
</div>

        <div class="ja-field">
          <label for="comments" class="ja-label">Any Comments</label>
          <textarea id="comments" class="ja-textarea" rows="3" placeholder="Personal story, context, or anything that helps us verify."></textarea>
        </div>
<!-- Submitter contact (optional) -->
<div class="ja-field">
  <label for="contactEmail" class="ja-label">Your Email <span style="color:#64748b;font-weight:500">(optional, for follow-up only)</span></label>
  <input id="contactEmail" name="email" class="ja-input" type="email" inputmode="email" autocomplete="email" placeholder="you@example.com" />
</div>
        <div class="ja-actions">
          <button id="submitBtn" class="btn-primary" type="submit" disabled>Submit</button>
          <div id="status" style="font-size:14px; color:var(--ink); display:none"></div>
        </div>

      </form>
    </section>
  </main>

  <!-- Your map & submission logic -->
  <script src="upload.js"></script>
</body>
</html>
